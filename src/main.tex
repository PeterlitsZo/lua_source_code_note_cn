\documentclass[10pt, b5paper]{ctexbook}


% Third-part package
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{listings}
\usepackage[right=1.8cm, left=2.2cm, top=2.4cm, bottom=2.4cm]{geometry}
\usepackage{xcolor}


% The base settings
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% for listings
\lstset{
    basicstyle=\ttfamily\fontsize{7.2pt}{7.2pt}\selectfont,
    breaklines,
    frame=tRBl,
    xleftmargin=2.5em,
    commentstyle=\color{black!50!white},
    emphstyle=\bfseries,
    stringstyle=\color{black!75!white},
}

\setmonofont{inconsolata}


% Command for the note
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% use cmd command to input the command, I do not like to use verb in `inline`
% mode.
\newcommand{\cmd}[1]{\,{\tt #1}\,}

% use verbatim to input the code
\lstnewenvironment{code}[2]{\lstset{caption={[#2]#2}, label={#1}}}{}
\lstnewenvironment{ccode}[2]{\lstset{language=C, caption={[#2]#2}, label={#1}}}{}
\lstnewenvironment{luacode}[2]{\lstset{language=lua, caption{[#2]#2}, label={#1}}}{}


% the main part
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}
    \input{src/chap/lex.tex}
\end{document}

